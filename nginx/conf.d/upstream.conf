# Upstream configuration for application servers
upstream app_backend {
    least_conn;
    
    server app-1:3000 max_fails=3 fail_timeout=30s;
    server app-2:3000 max_fails=3 fail_timeout=30s;
    server app-3:3000 max_fails=3 fail_timeout=30s;
    
    keepalive 32;
}
